{% import "macros/page.html" as page_macros %}
{% import "macros/macros.html" as macros %}
{% extends "base.html" %}{% block content %}

<div style="text-align: center; margin: 50px auto; max-width: 700px;">
  <h1>The next-generation framework for embedded applications</h1>
  <p>Write safe, correct and energy-efficient embedded code faster, using the Rust programming language, its async
    facilities, and the Embassy libraries.</p>
  <div style="margin: 30px;">
    <a class="button" href="https://embassy.dev/book/#_getting_started">Get started</a>
  </div>
</div>
<div class="dual-panes">
  <div>
    <h2>Rust + async ❤️ embedded</h2>
    <p>The <a href="https://www.rust-lang.org/">Rust programming language</a> is blazingly fast
      and memory-efficient, with no runtime, garbage collector or OS. It catches a wide variety
      of bugs at compile time, thanks to its full memory- and thread-safety, and expressive type system.
    </p>
    <p>Rust's <a href="https://rust-lang.github.io/async-book/">async/await</a> allows for unprecedently
      easy and efficient multitasking in embedded systems. Tasks get transformed at compile time into state
      machines that get run cooperatively. It requires no dynamic memory allocation, and runs on a single
      stack, so no per-task stack size tuning is required. It obsoletes the need for a traditional RTOS
      with kernel context switching, and is <a
        href="https://tweedegolf.nl/en/blog/65/async-rust-vs-rtos-showdown">faster and smaller than one!</a>
    </p>

  </div>
  <div>
    {% set code = load_data(path='blocks/code-example.md') %}
    {{ code|markdown|safe }}
  </div>
</div>

<div style="text-align: center; margin: 50px auto; max-width: 700px;">
  <h1>Features</h1>
</div>


<div class="grid">
  <div>
    <h3>Hardware Abstraction Layers</h3>
    <p>HALs implement safe, idiomatic Rust APIs to use the hardware capabilities, so raw register manipulation is not
      needed.
    <p>The Embassy project maintains HALs for select hardware, but you can still use HALs from other projects with
      Embassy.
    <ul>
      <li><a href="https://docs.embassy.dev/embassy-stm32/">embassy-stm32</a>, for all STM32 microcontroller families.
      </li>
      <li><a href="https://docs.embassy.dev/embassy-nrf/">embassy-nrf</a>, for the Nordic Semiconductor nRF52, nRF53,
        nRF91 series.</li>
      <li><a href="https://docs.embassy.dev/embassy-rp/">embassy-rp</a>, for the Raspberry Pi RP2040 microcontroller.
      </li>
      <li><a href="https://github.com/esp-rs">esp-rs</a>, for the Espressif Systems ESP32 series of chips.</li>
    </ul>
  </div>
  <div>
    <h3>Time that Just Works</h3>
    <p>No more messing with hardware timers. <a href="https://docs.embassy.dev/embassy-time/">embassy::time</a>
      provides Instant, Duration and Timer types that are globally available and never overflow.</p>
  </div>
  <div>
    <h3>Pick and choose</h3>
    <p>No need to buy into an entire ecosystem. You get to choose!</p>
    <ul>
      <li>Async or blocking (the HAL supports both!).</li>
      <li>Embassy executor or another runtime.</li>
      <li>Provide your own time keeping.</li>
      <li>Your own hal or the Embassy HAL.</li>
    </ul>
  </div>
  <div>
    <h3>Real-time ready</h3>
    <p>Tasks on the same async executor run cooperatively, but you can create multiple executors
      with different priorities, so that higher priority tasks preempt lower priority ones. See the <a
        href="https://github.com/embassy-rs/embassy/blob/master/examples/nrf52840/src/bin/multiprio.rs">example</a>.
  </div>
  <div>
    <h3>Low-power ready</h3>
    <p>Easily build devices with years of battery life.
    <p>The async executor automatically puts the core to sleep when there's no work to do. Tasks are woken by
      interrupts, there is no busy-loop polling while waiting.
  </div>
  <div>
    <h3>Networking</h3>
    <p>The <a href="https://docs.embassy.dev/embassy-net/">embassy-net</a> network stack implements extensive networking
      functionality, including Ethernet, IP, TCP, UDP, ICMP and DHCP. Async drastically simplifies managing timeouts and
      serving multiple connections concurrently.
  </div>
  <div>
    <h3>Bluetooth</h3>
    <p>The <a href="https://github.com/embassy-rs/nrf-softdevice">nrf-softdevice</a> crate provides Bluetooth Low Energy
      4.x and 5.x support for nRF52 microcontrollers.
  </div>
  <div>
    <h3>USB</h3>
    <p><a href="https://docs.embassy.dev/embassy-usb/">embassy-usb</a> implements a device-side USB stack.
      Implementations for common classes such as USB serial (CDC ACM) and USB HID are available, and a rich builder API
      allows building your own.
  </div>
  <div>
    <h3>Bootloader and DFU</h3>
    <p><a href="https://github.com/embassy-rs/embassy/tree/master/embassy-boot">embassy-boot</a> is a lightweight
      bootloader supporting firmware application upgrades in a power-fail-safe way, with trial boots and rollbacks.
  </div>
</div>

<!--

TODO write about these things:

- Hardware support
    - STM32
    - nRF

- Batteries included, but optional
    - Timekeeping that Just Works
    - Real-time ready
    - Low-power friendly
    - Great for IoT, communication-heavy projects
        - Networking
        - USB
        - LoRa
        - Bluetooth
    - Bootloader
    - Vibrant Ecosystem
        - embedded-hal
        - hundreds of drivers, link to awesome-embedded-rust

- Is embassy an RTOS? (maybe better for a blog post)

- Production-ready
    - Akiles testimonial
    - Others??? :) 
-->

{% endblock content %}